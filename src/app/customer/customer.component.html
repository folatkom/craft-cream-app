<h1>
  <span id="customer">{{ loggedCustomer }}</span> witaj w świecie craftowych
  lodów!
</h1>
<mat-grid-list cols="2" rowHeight="230px">
  <mat-grid-tile>
    <a>
      <mat-card (click)="showModal('order')">
        <mat-card-title>Twoje dzisiejsze zamówienie</mat-card-title>
        Kliknij aby rozpocząć
      </mat-card>
    </a>
  </mat-grid-tile>
  <mat-grid-tile>
    <a (click)="showModal('offer')">
      <mat-card>
        <mat-card-title>Aktualna oferta</mat-card-title>
      </mat-card>
    </a>
  </mat-grid-tile>
</mat-grid-list>
<div id="modal-container" *ngIf="isModalVisible">
  <mat-card id="modal">
    <mat-icon (click)="toggleModal()">highlight_off</mat-icon>
    <div *ngIf="whichModal === 'offer'; else order">
      <mat-card-title>Dostępne smaki</mat-card-title>
      <ul>
        <li *ngFor="let flavour of flavours">
          {{ flavour.name }}
          <mat-icon
            *ngIf="isFavourite(flavour.name); else notFavouriteYet"
            (click)="deleteFavourites(flavour.name)"
          >
            favorite</mat-icon
          >
          <ng-template #notFavouriteYet>
            <mat-icon (click)="addToFavourites(flavour)">
              favorite_border
            </mat-icon>
          </ng-template>
        </li>
      </ul>
      <mat-card-title>Dostępne pojemności</mat-card-title>
      <ul>
        <li *ngFor="let container of containers">
          {{ container.name }}
        </li>
      </ul>
    </div>
    <ng-template #order>
      <mat-card-title>Twoje zamówienie</mat-card-title>
      <mat-card-subtitle>Ulubione smaki</mat-card-subtitle>
      <mat-card class="elementList" *ngFor="let favourite of favourites">
        <h3>{{ favourite.name }}</h3>
        <ul>
          <li *ngFor="let container of containers">
            <div class="container">{{ container.name }}</div>
            <div>
              <button mat-icon-button color="accent">
                <mat-icon>add_circle_outline</mat-icon></button
              ><button mat-icon-button color="accent">
                <mat-icon>remove_circle_outline</mat-icon>
              </button>
            </div>
            <div>ilość: 0</div>
          </li>
        </ul>
      </mat-card>
      <mat-card-subtitle>Wszystkie smaki</mat-card-subtitle>
      <mat-card class="elementList" *ngFor="let flavour of flavours">
        <h3>{{ flavour.name }}</h3>
        <ul>
          <li *ngFor="let container of containers">
            <div class="container">{{ container.name }}</div>
            <div>
              <button mat-icon-button color="accent">
                <mat-icon>add_circle_outline</mat-icon></button
              ><button mat-icon-button color="accent">
                <mat-icon>remove_circle_outline</mat-icon>
              </button>
            </div>
            <div>ilość: 0</div>
          </li>
        </ul>
      </mat-card>
    </ng-template>
  </mat-card>
</div>
